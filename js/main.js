function fromNow(i){if("number"==typeof i||Number(i)===i)if(10===String(i).length)i=1e3*Number(i);else{if(13!==String(i).length)return console.log("时间格式错误"),i;i=Number(i)}else{if("string"!=typeof i||2!==i.split(" ").length||6!==i.split(/[- : \/]/).length)return console.log("时间格式错误"),i;i=new Date(i.replace(/\-/g,"/")).getTime()}const t=new Date,e=new Date(i),a=t.getTime()-i,n=parseInt(a/864e5,10);if(1===n)return"昨天";if(n>1&&n<4)return n+"天前";if(n>3){const i=e.getFullYear();let a=e.getMonth()+1;const n=a;a<10&&(a="0"+a);let l=e.getDate();const s=l;return l<10&&(l="0"+l),t.getFullYear()===i?`${n}月${s}日`:`${i}${a}月${l}日`}const l=parseInt(a%864e5/36e5,10);if(l>0)return l+"小时前";const s=parseInt(a%36e5/6e4,10);return s>0?s+"分钟前":"刚刚"}!function(i,t,e){function a(){const t=i(".navbar-main .navbar-start").outerWidth()+i(".navbar-main .navbar-end").outerWidth();i(document).outerWidth()<t?i(".navbar-main .navbar-menu").addClass("justify-content-start"):i(".navbar-main .navbar-menu").removeClass("justify-content-start")}function n(t,e){const a=i(t).find(".fold i");e?i(t).addClass("folded"):i(t).removeClass("folded"),e?a.removeClass("fa-angle-down"):a.removeClass("fa-angle-right"),e?a.addClass("fa-angle-right"):a.addClass("fa-angle-down")}function l(i){return'<span class="fold">'+("unfolded"===i?'<i class="fas fa-angle-down"></i>':'<i class="fas fa-angle-right"></i>')+"</span>"}if(i('.article img:not(".not-gallery-item")').each(function(){0===i(this).parent("a").length&&(i(this).wrap('<a class="gallery-item" href="'+i(this).attr("src")+'"></a>'),this.alt&&i(this).after('<p class="has-text-centered is-size-6 caption">'+this.alt+"</p>"))}),"function"==typeof i.fn.lightGallery&&i(".article").lightGallery({selector:".gallery-item"}),"function"==typeof i.fn.justifiedGallery&&(i(".justified-gallery > p > .gallery-item").length&&i(".justified-gallery > p > .gallery-item").unwrap(),i(".justified-gallery").justifiedGallery()),i(".article-meta time").each(function(){let t=i(this).attr("datetime");t=new Date(t).getTime(),i(this).text(fromNow(t))}),i(".article > .content > table").each(function(){i(this).width()>i(this).parent().width()&&i(this).wrap('<div class="table-overflow"></div>')}),a(),i(window).resize(a),i("figure.highlight table").wrap('<div class="highlight-body">'),void 0!==e&&void 0!==e.article&&void 0!==e.article.highlight){i("figure.highlight").addClass("hljs"),i("figure.highlight .code .line span").each(function(){const t=i(this).attr("class").split(/\s+/);1===t.length&&(i(this).addClass("hljs-"+t[0]),i(this).removeClass(t[0]))});const a=e.article.highlight.clipboard,s=e.article.highlight.fold.trim();i("figure.highlight").each(function(){i(this).find("figcaption").length?(i(this).find("figcaption").addClass("level is-mobile"),i(this).find("figcaption").append('<div class="level-left">'),i(this).find("figcaption").append('<div class="level-right">'),i(this).find("figcaption div.level-left").append(i(this).find("figcaption").find("span")),i(this).find("figcaption div.level-right").append(i(this).find("figcaption").find("a"))):(a||s)&&i(this).prepend('<figcaption class="level is-mobile"><div class="level-left"></div><div class="level-right"></div></figcaption>')}),void 0!==t&&a&&(i("figure.highlight").each(function(){const t="code-"+Date.now()+(1e3*Math.random()|0),e='<a href="javascript:;" class="copy" title="Copy" data-clipboard-target="#'+t+' .code"><i class="fas fa-copy"></i></a>';i(this).attr("id",t),i(this).find("figcaption div.level-right").append(e)}),new t(".highlight .copy")),s&&(i("figure.highlight").each(function(){if(i(this).find("figcaption").find("span").length>0){const t=i(this).find("figcaption").find("span");if(t[0].innerText.indexOf(">folded")>-1)return t[0].innerText=t[0].innerText.replace(">folded",""),i(this).find("figcaption div.level-left").prepend(l("folded")),void n(this,!0)}i(this).find("figcaption div.level-left").prepend(l(s)),n(this,"folded"===s)}),i("figure.highlight figcaption .fold").click(function(){const t=i(this).closest("figure.highlight");n(t.eq(0),!t.hasClass("folded"))}))}const s=i("#toc");if(s.length>0){const t=i("<div>");function o(){s.toggleClass("is-active"),t.toggleClass("is-active")}t.attr("id","toc-mask"),i("body").append(t),s.on("click",o),t.on("click",o),i(".navbar-main .catalogue").on("click",o)}}(jQuery,window.ClipboardJS,window.IcarusThemeSettings);